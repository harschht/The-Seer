<!DOCTYPE html>
<html>
<title>The Seer</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<body id="myPage">

<!-- Sidebar on click -->
<nav class="w3-sidebar w3-bar-block w3-white w3-card w3-animate-left w3-xxlarge" style="display:none;z-index:2" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-bar-item w3-button w3-display-topright w3-text-teal">Close
    <i class="fa fa-remove"></i>
  </a>
  <a href="#" class="w3-bar-item w3-button">Link 1</a>
  <a href="#" class="w3-bar-item w3-button">Link 2</a>
  <a href="#" class="w3-bar-item w3-button">Link 3</a>
  <a href="#" class="w3-bar-item w3-button">Link 4</a>
  <a href="#" class="w3-bar-item w3-button">Link 5</a>
</nav>

<!-- Navbar -->
<div class="w3-top">
 <div class="w3-bar w3-theme-d2 w3-left-align">
  <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-hover-white w3-theme-d2" href="javascript:void(0);" onclick="openNav()"><i class="fa fa-bars"></i></a>
  <a href="#" class="w3-bar-item w3-button w3-teal"><i class="fa fa-home w3-margin-right"></i>Logo</a>
  <a href="#team" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Team</a>
  <a href="#project" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Project</a>
  <a href="#demo" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Demonstration</a>
  <a href="#presentationreport" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Presentation & Report</a>
  <a href="#contact" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Contact</a>
    <div class="w3-dropdown-hover w3-hide-small">
    <button class="w3-button" title="Notifications">Dropdown <i class="fa fa-caret-down"></i></button>     
    <div class="w3-dropdown-content w3-card-4 w3-bar-block">
      <a href="#" class="w3-bar-item w3-button">GitHub Repo</a>
      <a href="#" class="w3-bar-item w3-button">Demo Video</a>
      <a href="#" class="w3-bar-item w3-button">Technical Presentation</a>
    </div>
  </div>
  <a href="#" class="w3-bar-item w3-button w3-hide-small w3-right w3-hover-teal" title="Search"><i class="fa fa-search"></i></a>
 </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-bar-block w3-theme-d2 w3-hide w3-hide-large w3-hide-medium">
    <a href="#team" class="w3-bar-item w3-button">Team</a>
    <a href="#project" class="w3-bar-item w3-button">Project</a>
    <a href="#demo" class="w3-bar-item w3-button">Demonstration</a>
    <a href="#presentationreport" class="w3-bar-item w3-button">Presentation & Report</a>
    <a href="#contact" class="w3-bar-item w3-button">Contact</a>
    <a href="#" class="w3-bar-item w3-button">Search</a>
  </div>
</div>

<!--
	Image Header
<div class="w3-display-container w3-animate-opacity">
  <img src="/w3images/sailboat.jpg" alt="boat" style="width:100%;min-height:350px;max-height:600px;">
  <div class="w3-container w3-display-bottomleft w3-margin-bottom">  
    <button onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-xlarge w3-theme w3-hover-teal" title="Go To W3.CSS">LEARN W3.CSS</button>
  </div>
</div>

	Modal
<div id="id01" class="w3-modal">
  <div class="w3-modal-content w3-card-4 w3-animate-top">
    <header class="w3-container w3-teal w3-display-container"> 
      <span onclick="document.getElementById('id01').style.display='none'" class="w3-button w3-teal w3-display-topright"><i class="fa fa-remove"></i></span>
      <h4>Oh snap! We just showed you a modal..</h4>
      <h5>Because we can <i class="fa fa-smile-o"></i></h5>
    </header>
    <div class="w3-container">
      <p>Cool huh? Ok, enough teasing around..</p>
      <p>Go to our <a class="w3-text-teal" href="/w3css/default.asp">W3.CSS Tutorial</a> to learn more!</p>
    </div>
    <footer class="w3-container w3-teal">
      <p>Modal footer</p>
    </footer>
  </div>
</div>
-->


<!-- Team Container -->
<div class="w3-container w3-padding-64 w3-center" id="team">
<h2>Team Straw Hats</h2>
<p>Meet the team:</p>

<div class="w3-row"><br>

<div class="w3-quarter">
  <img src="/w3images/avatar.jpg" alt="Boss" style="width:45%" class="w3-circle w3-hover-opacity">
  <h3>Tate Harsch-Hudspeth</h3>
  <p>Head Software Engineer</p>
</div>

<div class="w3-quarter">
  <img src="/w3images/avatar.jpg" alt="Boss" style="width:45%" class="w3-circle w3-hover-opacity">
  <h3>Even Peelen</h3>
  <p>Hardware Test Engineer</p>
</div>

<div class="w3-quarter">
  <img src="/w3images/avatar.jpg" alt="Boss" style="width:45%" class="w3-circle w3-hover-opacity">
  <h3>Victor Madrid</h3>
  <p>System Test Engineer</p>
</div>

<div class="w3-quarter">
  <img src="/w3images/avatar.jpg" alt="Boss" style="width:45%" class="w3-circle w3-hover-opacity">
  <h3>Dr. Mohamed Salem</h3>
  <p>Faculty Advisor</p>
</div>

</div>

<!-- Work Row -->
<div class="w3-row-padding w3-padding-64 w3-theme-l1" id="work">

<div class="w3-quarter">
<h2>Our Work</h2>
<p>The Seer will be focused on streamlining the process of location estimation to benefit telecommunications, assisted GPS (AGPS), and radio enthusiasts. By implementing a neural network that utilizes the received signal data from an array of antennas, our system can create an accurate and adaptably complex model of the environment it is trained in. The system will be focused on Sub-6 5G NR within the 600 MHz (n5) to 850 MHz (n71) band. Positioning the antennas a half-wavelength apart ensures that the main variation between antennas will be due to the antennas orientation relative to the transmitter (Tx). Analyzing the amplitude and phase of these received signals provides useful data for the creation of our deep learning model. Use of a neural network allows for a model to be created that matches the complexity of the urban indoor environments we are targeting with our prototype. Other methods of pinpointing the location of an incoming signal use models that assume an isotropic environment, while true indoor urban environments are by no means isotropic. The existence of other EM waves, as well as multipath, and constructive and destructive interference add to the complexity of solving the inverse function of finding the direction using the signal parameters. Our system has the added benefit of learning and can be implemented in any environment through training. Our system is capable of improving the current methods for determining the direction-of-arrival of low-band 5G signals, bolstering communication between a base station and transmitter, while lowering the economic impact of these large scale 5G systems.</p>
</div>

<div class="w3-quarter">
<div class="w3-card w3-white">
  <img src="/w3images/snow.jpg" alt="Snow" style="width:100%">
  <div class="w3-container">
  <h3>Problem Statement</h3>
  <p>Large cellular companies spend up to 70% of their capital on power bills, that is more than they spend on employee salaries. Dynamic and static beam forming attempts to reduce the unnecessary use of power in areas covered by antennas that may not always need coverage. One way to tune these antennas is to keep them pointed on areas that gather the most users, but it is not always so cut and dry. Some places have large crowds in one area during the day, but the crowds gather in a different area at night. Dealing with this can be cumbersome, costing money in the form of labor and power use. This could be simplified if there was a way to determine transmitter (Tx) location based on a single incoming pilot signal. This technology could also benefit smart device applications that rely on precise location for their services (AGPS). There are methods currently available that can model RF environments, but require the environment to be isotropic, which is usually not the case when dealing with urban areas. Current methods of transmission are centralized around massive MIMO technology that implement beamforming to send data into an area, rather than sending it all around with umbrella coverage. Beamforming is imperative when it comes to the new 5G system because the wavelengths are short, impairing their ability to penetrate surfaces. For beamforming networks to work, the system must know where the recipient of the data is, so it can appropriately adjust the direction and intensity of the radiation. If the system were to be incorrect in estimating the location of the recipient, that would result in more power loss while lowering customer satisfaction. The current methods of triangulation and periodic pilot signals used to determine the best TX/RX path for beamforming uses considerable amounts of power and does not account for a non isotropic environment. Complicated environments are difficult to mathematically model due to the non-proportionality of power relative to the distance, leading to our complex inverse function.
</p>
  </div>
  </div>
</div>

<div class="w3-quarter">
<div class="w3-card w3-white">
  <img src="/w3images/lights.jpg" alt="Lights" style="width:100%">
  <div class="w3-container">
  <h3>Proposed Solution</h3>
  <p>To try and solve this problem, our team planned to use an array of five antennas spaced out a half wavelength from one another. Since our target frequencies are in the low-band 5G range (600-850MHz), after analyzing our antennas s11 parameters using a vector network analyzer (VNA), we chose 750MHz resulting in a spacing of 0.2 meters. Using five antennas in a linear horizontal array, we planned to use the varying amplitude and phase shift of the signal received by each antenna to determine the location of the transmitter (Tx). In order for the antennas to provide coherent signal data, the team took steps to synchronize the RTL-SDRs by daisy chaining the clocks together via solder bridging and removing the bypass resistors on the physical components. To make sure that the clock signals were not disrupted by this process, we used an oscilloscope to check the period and amplitude of the common clock after every addition to the array. The final product would include one master clock chained to four puppets with negligible change in clock period. With the clocks synchronized, the received power and individual phase shifts could be processed by GNU Radio, a software capable of processing the data received by the RTL-SDRs. To ensure that the data being collected would be useful to the neural network, we planned to use the middle antenna as a reference, dividing the phasors from each of the other four antennas by the reference antenna’s phase to obtain the relative phase difference between them. Using GNU Radio, we would extract the magnitude and relative phase difference from each of the outer four antennas using FFT signal processing techniques, taking a moving average of the samples before saving the binary data to be processed by a data extraction code written in Python. Using this data extraction code, we would obtain the last moving average value from each of the four antenna’s magnitude and relative phase difference binary data files, which were arranged into a ten-column tensor for the neural network to use for training. The last two columns of this tensor were the (r,theta) values that related to the distance between the Tx and the reference antenna on the receiver (Rx). To sample the testing environment, we would use a Latin Hypercube Sampling (LHS) library in Python to produce an unbiased distribution of possible Tx locations. After compiling a sufficient number of data measurements, the neural net would be trained, and the loss and accuracy would be analyzed. Prior to training, the team would simulate data using two different radio wave propagation models: the Friis transmission equation, and the JTC urban indoor environment model. This simulated data allowed the team to dial in the number of hidden layers and weights per hidden layer in preparation for the live data. After the live data was collected and used for training, and an acceptable accuracy was found, the model and corresponding weights would be saved, then used for predictions on live measurements that were outside of the training dataset. The team developed a graphical user interface (GUI) to display the predicted value to the user, along with a polar plot representing the direction-of-arrival of the received signal.</p>
  </div>
  </div>
</div>

<div class="w3-quarter">
<div class="w3-card w3-white">
  <img src="/w3images/mountains.jpg" alt="Mountains" style="width:100%">
  <div class="w3-container">
  <h3>Methodology</h3>
  <p>For the hardware, we used TG.35.8113 Apex II Wideband 5G/4G Dipole Terminal Antennas connected to Realtek Software Defined Radios (RTL_SDRS) making up the Rx, with a HackRF One attached to the Port-A-Pack used as the Tx. The antenna array would be put together via PVC pipe to mitigate any possible reflection or attenuation from the stand itself, since PVC is practically transparent at our target frequencies. We used SMA low-loss coax cables as extensions from the SDRs to the antennas in order to account for the half wavelength spacing. The SDRs were then connected to a USB hub powered with an external power supply connected to a standard 120V outlet, which sent data to an RPi 4 System on Chip (SoC). The RPi ran the teams GNU Radio flowgraph which sent the collected data to a database on the cloud. Once in the cloud, the data could be accessed by the data extraction code, which prepared the data for the neural network. The neural network was implemented in Keras, a deep learning API that uses TensorFlow2 as a backend. We used Tkinter and Matplotlib Python libraries for the GUI. Due to complications with the hardware and the COVID-19 pandemic, the final system consisted of three SDRs connected to three antennas, with only power measurements used for data. Please see Test 5 on page ____ for an in depth look at the reason we stepped down from five antennas to three, and Test 6B on page____ for the reasoning behind dropping the relative phase difference.
</p>
  </div>
  </div>
</div>

</div>

<!-- Container -->
<div class="w3-container" style="position:relative">
  <a onclick="w3_open()" class="w3-button w3-xlarge w3-circle w3-teal"
  style="position:absolute;top:-28px;right:24px">+</a>
</div>

<!-- Presentation & Report -->
<div>
  <h4>Project Presentation:</h4>
  <a href="url">The Seer - Project Presentation</a>
  <h4>Project Slides:</h4>
  <a href="url">The Seer - Project Slides</a>
  <h4>Project Report:</h4>
  <a href="url">The Seer - Project Report</a>
</div>

<!-- Contact Container -->
<div class="w3-container w3-padding-64 w3-theme-l5" id="contact">
  <div class="w3-row">
    <div class="w3-col m5">
    <div class="w3-padding-16"><span class="w3-xlarge w3-border-teal w3-bottombar">Contact Us</span></div>
      <p>Tate Harsch-Hudspeth: <i class="fa fa-envelope-o w3-text-teal w3-xlarge"></i>  tatehh411@gmail.com</p>
      <p>Even Peelen: <i class="fa fa-envelope-o w3-text-teal w3-xlarge"></i>  peelene@sonoma.edu</p>
      <p>Victor Madrid: <i class="fa fa-envelope-o w3-text-teal w3-xlarge"></i>  madridv@sonoma.edu</p>
    </div>
  </div>
</div>

<!-- Image of location/map -->
<img src="/w3images/map.jpg" class="w3-image w3-greyscale-min" style="width:100%;">

<!-- Footer -->
<footer class="w3-container w3-padding-32 w3-theme-d1 w3-center">
  <h4>Follow Us</h4>
  <a class="w3-button w3-large w3-teal" href="https://github.com/harschht/The-Seer" title="GitHub"><i class="fa fa-github"></i></a>
  <a class="w3-button w3-large w3-teal w3-hide-small" href="javascript:void(0)" title="LinkedIn"><i class="fa fa-linkedin"></i></a>
  <a class="w3-button w3-large w3-teal w3-hide-small" href="javascript:void(0)" title="LinkedIn"><i class="fa fa-linkedin"></i></a>
  <a class="w3-button w3-large w3-teal w3-hide-small" href="javascript:void(0)" title="LinkedIn"><i class="fa fa-linkedin"></i></a>
  <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>

  <div style="position:relative;bottom:100px;z-index:1;" class="w3-tooltip w3-right">
    <span class="w3-text w3-padding w3-teal w3-hide-small">Go To Top</span>   
    <a class="w3-button w3-theme" href="#myPage"><span class="w3-xlarge">
    <i class="fa fa-chevron-circle-up"></i></span></a>
  </div>
</footer>

<script>
// Script for side navigation
function w3_open() {
  var x = document.getElementById("mySidebar");
  x.style.width = "300px";
  x.style.paddingTop = "10%";
  x.style.display = "block";
}

// Close side navigation
function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
}

// Used to toggle the menu on smaller screens when clicking on the menu button
function openNav() {
  var x = document.getElementById("navDemo");
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
  } else { 
    x.className = x.className.replace(" w3-show", "");
  }
}
</script>

</body>
</html>
